<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="sense.city" />
      <!-- based on a free Bootstrap landing page theme created for BootstrapZero. Feature video background and one page design. -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="generator" content="Codeply">

        <title>sense.city administration</title>


        <!-- angular dep -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.3/angular.js"></script>
        <script src="https://code.angularjs.org/1.5.3/angular-resource.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-route.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-sanitize.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-motion/0.4.4/angular-motion.css" />


        <!-- angular strap -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.8/angular-strap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.8/angular-strap.tpl.min.js"></script>

        <!-- Angular administrationapp dependancies -->
        <script src="controllers.js"></script>
        <script src="administrationapp.js"></script>
        <script src="services.js"></script>

        <!-- Moment Js Greek Locale Support -->
        <script src="http://momentjs.com/downloads/moment-with-locales.js"></script>


    </head>

    <body ng-app="administrationApp" ng-controller="adminController" ng-init="">

        <div class="panel-group" ng-model="multipleActivePanels" data-allow-multiple="true" role="tablist" aria-multiselectable="false" bs-collapse>
          <div class="panel panel-default" ng-repeat="panel in panels" >
            <div class="panel-heading" role="tab" >
              <h3 class="panel-title" >
                <a bs-collapse-toggle >
                  <span ng-class="panel.icon" ng-style="panel.style"></span> {{ panel.title }}
                </a>
              </h3>
            </div>
            <div class="panel-collapse" role="tabpanel" data-animation="am-collapse" bs-collapse-target>
              <div class="panel-body">
                <strong>BEBUGGING</strong>
                <br />admin: {{panel.admin}}
                <br />resolutionbtn: {{selectedStatus=='Ολοκληρωμένο'}}
				<br />status: {{panel.status}}
                <br />selectedstatus: {{selectedStatus}}
                <br />selectedResolution: {{selectedResolution}}
                <br />comment: {{comment}}
                <hr />
                <!-- <p ng-bind-html="panel.body"></p> -->
                <form name="editableForm" ng-hide="panel.admin">
                  <div>
                    <span class="title">Κατάσταση: </span>
                    <span >{{panel.new_status}} ({{panel.new_resolution}})</span>
                  </div>
                  <div>
                    <span class="title">Καταγραφη: </span>
                    <span >{{ panel.time }}</span>
                  </div>
                  <div>
                    <a href="{{panel.issuelink}}">Επισκόπηση</a>
                  </div>
				   <div class="btn btn-warning" ng-hide="panel.admin" ng-click="admin(panel)" ><span class="glyphicon glyphicon-edit"></span> Διαχείριση</div>
                </form>

                <form name="editingForm"  ng-show="panel.admin">
                  <div>
                    <span class="title">Κατάσταση: </span>
                    <button type="button" class="btn btn-default" ng-model="selectedStatus" data-html="1" data-toggle="true" bs-options="status for status in statuses" data-animation="am-flip-x" data-placement="bottom" bs-select>
                    </button>
                    <button type="button" ng-show="selectedStatus=='Ολοκληρωμένο'" class="btn btn-default" ng-model="selectedResolution" data-html="1" data-toggle="true" bs-options="resolution for resolution in resolutions" data-animation="am-flip-x" data-placement="bottom"  bs-select>
                    </button>
                  </div>
                  <div>
                    <span class="title">Σχόλιο: </span>
                    <input type="text" class="form-control" ng-model="comment" placeholder="περιγραφή ...">
                  </div>
				   <div class="btn btn-success" ng-show="panel.admin" ng-click="submit(panel,selectedStatus)" ><span class="glyphicon glyphicon-ok"></span> Επιβεβαίωση</div>
					<div class="btn btn-danger" ng-show="panel.admin" ng-click="resetPanel(panel)" ><span class="glyphicon glyphicon-remove"></span> Ακύρωση</div>
                </form>

                <br />

               
               
              </div>
            </div>
          </div>
        </div>
        <div class="btn btn-default" ng-click="refresh()">Ανανέωση</div>
    </body>
</html>
